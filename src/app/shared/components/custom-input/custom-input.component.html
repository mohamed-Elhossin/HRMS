@if (type === 'switch') {
<label
  [class]="'flex items-center gap-3 cursor-pointer select-none ' + labelClass"
>
  <input
    type="checkbox"
    #inputElement
    [checked]="value"
    (change)="onInputChange($event)"
    [disabled]="disabled"
    class="sr-only peer"
  />

  <!-- Toggle Switch -->
  <div
    class="w-11 h-6 bg-gray-300 rounded-full relative transition-colors duration-200 peer-checked:bg-[#1B84FF]"
  >
    <div
      class="absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-sm transform transition-transform duration-300 peer-checked:translate-x-5"
      [ngClass]="{
          'duration-300 translate-x-5': value,
          }"
    ></div>
  </div>

  <div>
    <div [class]="'text-sm font-medium ' + labelClass" #labelTage>
      {{ label | translate }}
      @if (required) {
      <span class="text-red-600 font-bold text-lg">*</span>
      }
    </div>
  </div>
</label>

@if (description) {
<div class="text-[13px] text-[#4B5675] mt-1">{{ description }}</div>
} } @if (type === 'checkbox') {
<label class="flex items-center gap-3 cursor-pointer select-none">
  <input
    type="checkbox"
    #inputElement
    [checked]="value"
    (change)="onInputChange($event)"
    [disabled]="disabled"
    class="hidden peer"
  />

  <!-- Custom checkbox -->
  <div
    class="h-5 w-5 rounded-md border border-gray-300 flex items-center justify-center peer-checked:bg-[#414E5D] peer-checked:border-[#414E5D] peer-disabled:opacity-50 peer-disabled:cursor-not-allowed"
  >
    <span
      [innerHTML]="
        appService.getIcons(
          'success',
          inputElement.checked ? 'opacity:1;color: #fff;' : iconStyle
        )
      "
    ></span>
  </div>

  <div>
    <div [ngClass]="'text-sm font-medium ' + labelClass" #labelTage>
      {{ label | translate }}
      @if (required) {
      <span class="text-red-600 font-bold text-lg">*</span>
      }
    </div>
  </div>
</label>

@if (description) {
<div class="text-[13px] text-[#4B5675] mt-1">{{ description }}</div>
} } @else if (type === 'mobile') {
<div class="flex flex-col md:flex-row md:items-start gap-2 md:gap-4 w-full">
  @if (label) { @if (labelPosition === 'horizontal') {
  <div class="w-full md:w-1/3">
    <label
      [for]="labelAsId(label)"
      [ngClass]="
        'block text-sm text-gray-700 font-semibold leading-5 ' + labelClass
      "
      #labelTage
    >
      {{ label | translate }}
      @if (required) {
      <span class="text-red-600 font-bold text-lg">*</span>
      }
    </label>
    @if (description) {
    <p class="text-[13px] text-[#4B5675] mt-1">{{ description }}</p>
    }
  </div>
  } @else {
  <div class="w-full mb-1">
    <label
      [for]="labelAsId(label)"
      [class]="
        'block text-sm text-gray-700 font-medium leading-5 ' + labelClass
      "
      #labelTage
    >
      {{ label | translate }}
      @if (required) {
      <span class="text-red-600 font-bold text-lg">*</span>
      }
    </label>
    @if (description) {
    <p class="text-[13px] text-[#4B5675] mt-1">{{ description }}</p>
    }
  </div>
  } }

  <div class="relative w-full md:w-3/3">
    <div
      class="flex items-center w-full bg-gray-50 rounded-md border border-gray-300 px-4 py-2 focus-within:ring-1 focus-within:ring-gray-300 focus-within:border-gray-500 dark:bg-black dark:border-gray-600"
    >
      <span class="text-gray-900 font-semibold whitespace-nowrap"
        >+{{ countryCode }}</span
      >
      <span class="mx-2 text-gray-400"></span>

      <input
        #inputElement
        type="tel"
        inputmode="numeric"
        pattern="[0-9]*"
        [placeholder]="placeholder"
        class="bg-transparent rounded-md w-full text-gray-900 font-semibold focus:outline-none dark:text-gray-100"
        [ngModel]="value"
        (ngModelChange)="onInputChange($event)"
        (blur)="onTouched()"
        [readonly]="readonly"
        [disabled]="disabled"
        (keypress)="onKeyPressNumeric($event)"
      />

      @if (badge) {
      <div
        class="absolute end-2 top-1/2 pointer-events-none"
        [ngClass]="errorMessage ? '-translate-y-full' : '-translate-y-1/2'"
      >
        <app-status-badge
          [status]="badge"
          [label]="badgeLabel"
          [badgeClass]="badgeClass"
        ></app-status-badge>
      </div>
      }
    </div>

    @if (errorMessage) {
    <small class="text-red-500 block mt-1 font-semibold text-end">{{
      errorMessage
    }}</small>
    }
  </div>
</div>
} @if (type === 'default' || type === 'text' || type === 'password' || type ===
'number' || type === 'email') {
<div
  [ngClass]="
    labelPosition === 'horizontal'
      ? 'flex flex-col md:flex-row md:items-start gap-2 md:gap-4 w-full'
      : 'flex flex-col gap-2 w-full'
  "
>
  <div
    [ngClass]="labelPosition === 'horizontal' ? 'w-full md:w-1/3' : 'w-full'"
  >
    <label
      [class]="
        'block text-sm text-gray-700 font-semibold leading-5 ' + labelClass
      "
      [for]="labelAsId(label)"
      #labelTage
    >
      {{ label | translate }}
      @if (required) {
      <span class="text-red-600 font-bold text-lg">*</span>
      }
    </label>

    @if (description) {
    <p class="text-[13px] text-[#4B5675] mt-1">{{ description }}</p>
    }
  </div>

  <div
    [ngClass]="
      labelPosition === 'horizontal'
        ? 'relative w-full md:w-2/3'
        : 'relative w-full'
    "
  >
    <ng-content select="input"></ng-content>

    <ng-container *ngIf="!hasProjectedInput">
      <input
        #inputElement
        [type]="actualInputType"
        [min]="min"
        [id]="labelAsId(label)"
        [name]="label"
        [placeholder]="placeholder"
        [required]="required"
        [ngModel]="value"
        (ngModelChange)="onInputChange($event)"
        (keypress)="onKeyPressNumeric($event)"
        (blur)="onTouched()"
        [disabled]="disabled"
        [readonly]="readonly"
        [ngClass]="[
          inputClass,
          icon && iconPosition === 'start'
            ? 'ps-10'
            : icon && iconPosition === 'end'
            ? 'pe-10'
            : '',
          badge ? 'pe-28' : '',
          'w-full bg-gray-50 text-gray-900  rounded-md border border-gray-300 px-4 py-2 placeholder-gray-500 focus:border-gray-500 focus:ring-1 focus:ring-gray-300 focus:outline-none transition-all duration-150 ease-in-out dark:bg-black dark:text-gray-100 dark:border-gray-600 dark:placeholder-gray-400'
        ]"
      />
    </ng-container>

    @if (icon) {
    <span
      [innerHTML]="appService.getIcons(icon, iconStyle)"
      (click)="togglePasswordVisibility(icon)"
      class="absolute top-1/2 text-gray-600 dark:text-gray-300 cursor-pointer"
      [ngClass]="[
        iconPosition === 'end' ? 'end-3' : 'start-3',
        errorMessage ? '-translate-y-full' : '-translate-y-1/2'
      ]"
    ></span>
    } @if (badge) {
    <div
      class="absolute end-2 pointer-events-none"
      [ngClass]="errorMessage || hint ? 'top-[11%]' : 'top-1/2 -translate-y-1/2'"
    >
      <app-status-badge
        [status]="badge"
        [label]="badgeLabel"
        [badgeClass]="badgeClass"
      ></app-status-badge>
    </div>
    } @if (hint) {
    <app-paragraph [paragraphClass]="'text-gray-600 mt-2 text-sm ' + hintClass" >
      {{ hint | translate }}
    </app-paragraph>
    }
    @if (errorMessage) {
    <small class="text-red-500 block mt-1 font-semibold text-end">
      {{ errorMessage }}
    </small>
    }
  </div>
</div>
}
