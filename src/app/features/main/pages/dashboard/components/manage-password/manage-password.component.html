<form [formGroup]="form">
  <section class="flex flex-wrap py-12">
    <div class="w-full lg:w-8/12 order-2 lg:order-1 px-2">
      <div class="flex flex-col gap-5">
        <div>
          <app-custom-input
            label="Old Password"
            description="Enter your old password"
            [required]="true"
            iconPosition="end"
            icon="eye"
            iconStyle="color:#000;"
            type="password"
            formControlName="oldPassword"
            [errorMessage]="getErrorMessage('oldPassword')"
          ></app-custom-input>
        </div>

        <div>
          <app-custom-input
            label="New Password"
            description="Enter the new password"
            iconPosition="end"
            icon="eye"
            iconStyle="color:#000;"
            [required]="true"
            type="password"
            formControlName="newPassword"
            [errorMessage]="getErrorMessage('newPassword')"
          ></app-custom-input>
        </div>

        <div>
          <app-custom-input
            label="Retype Password"
            description="Retype the new password"
            iconPosition="end"
            icon="eye"
            iconStyle="color:#000;"
            [required]="true"
            type="password"
            formControlName="confirmPassword"
            [errorMessage]="getErrorMessage('confirmPassword')"
          ></app-custom-input>
        </div>

        <div class="flex flex-wrap md:flex-nowrap justify-center gap-4 mb-10">
          <div class="w-full md:w-1/3"></div>
          <div class="w-full md:w-2/3">
            <app-custom-input
              label="sign-out from all devices"
              description="you will be Signed out from all logged in devices using your account"
              type="checkbox"
              iconStyle="color:#fff;"
              formControlName="signOutFromAllDevices"
              [errorMessage]="getErrorMessage('signOutFromAllDevices')"
            ></app-custom-input>
          </div>
        </div>

        <div class="flex flex-wrap md:flex-nowrap justify-center gap-4 mb-14">
          <div class="w-full md:w-1/3"></div>
          <div class="w-full md:w-2/3">
            <app-paragraph paragraphClass="text-black w-full">
              {{ "Don't Remember My Old Password" | translate }}
            </app-paragraph>
            <button
              (click)="sendResetLink()"
              type="button"
              class="underline text-black"
            >
              Send Reset Link
            </button>
            <app-paragraph paragraphClass="text-[#78829D] w-full">
              {{
                "If you Choose this option, you will be logged out " | translate
              }}
            </app-paragraph>
          </div>
        </div>
      </div>
    </div>

    <div class="w-full lg:w-4/12 order-1 lg:order-2 mb-4 lg:mb-0 px-2">
      <div class="ms-0 lg:ms-6">
        @for (item of passwordPattern; track $index) {
        <app-paragraph
          paragraphClass="text-[#78829D] mb-1 flex items-center gap-2"
        >
          <div
            class="flex items-center justify-center h-4 w-4 rounded-full"
            [ngClass]="item.valid ? 'bg-[#2f9149]' : 'bg-[#b3b3b3]'"
          >
            <span
              [innerHTML]="appService.getIcons('success',`font-size: 10px;display: flex;justify-content: center; align-items: center;color: ${item.valid ? '#fff' : '#000'}`)"
            ></span>
          </div>
          {{ item.message }}
        </app-paragraph>
        }
      </div>
    </div>

    <div class="w-full order-12">
      <div class="flex justify-center">
        <div class="w-48 max-w-xs">
          <app-custom-button
            label="Reset Password"
            type="submit"
            [disabled]="!form.valid"
            (click)="onSubmit()"
          ></app-custom-button>
        </div>
      </div>
    </div>

  </section>
</form>
