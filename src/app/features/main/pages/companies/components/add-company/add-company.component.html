<section>
  <div class="text-end mb-12">
    <a routerLink="/companies/companies-list" class="underline">Back To Companies List</a>
  </div>
  <form [formGroup]="form">
    <div class="flex mb-8">
      <div class="md:w-2/3 w-full flex flex-wrap gap-y-8">
        <div class="w-full">
          <app-custom-input
            type="text"
            formControlName="companyName"
            label="Company Name"
            description="Company Full Name"
          ></app-custom-input>
        </div>
        <div class="w-full">
          <app-custom-select
            type="prime"
            [placeholder]="'Select Country' | translate"
            formControlName="country"
            [filter]="true"
            [filterBy]="appService.getLanguage() == 'en' ? 'name' : 'nameAr'"
            [showClear]="true"
            label="Country"
            description="Select From Country List"
            [optionLabel]="appService.getLanguage() == 'en' ? 'name' : 'nameAr'"
            optionValue="id"
            [options]="countries"
          ></app-custom-select>
        </div>
        <div class="w-full">
          <app-custom-select
            type="prime"
            [placeholder]="'Select City' | translate"
            formControlName="city"
            [filter]="true"
            [filterBy]="appService.getLanguage() == 'en' ? 'name' : 'nameAr'"
            [showClear]="true"
            label="City"
            description="Select From Cities List"
            [optionLabel]="appService.getLanguage() == 'en' ? 'name' : 'nameAr'"
            optionValue="id"
            [options]="cities"
          ></app-custom-select>
        </div>
        <div class="w-full">
          <app-custom-select
            type="prime"
            [placeholder]="'Select Package' | translate"
            [filter]="true"
            formControlName="package"
            [filterBy]="appService.getLanguage() == 'en' ? 'name' : 'nameAr'"
            [showClear]="true"
            label="Packages"
            description="Package Selected for the company"
            [optionLabel]="appService.getLanguage() == 'en' ? 'name' : 'nameAr'"
            optionValue="id"
            [options]="packages"
          ></app-custom-select>
        </div>
        <div class="w-full">
          <app-custom-input
            type="email"
            label="Business Email"
            formControlName="businessEmail"
            description="Email super user"
          ></app-custom-input>
        </div>
      </div>
      <div class="md:w-1/3 hidden md:block"></div>
    </div>
    <div class="flex flex-wrap md:gap-y-5 gap-y-2 items-center mb-5">
      <div class="md:w-2/3 w-full">
        <app-custom-input
          type="password"
          label="Password"
          iconPosition="end"
          formControlName="password"
          icon="eye"
          iconStyle="color:black;"
          description="Company Login Password"
        ></app-custom-input>
      </div>
      <div class="md:w-1/3 w-full flex">
        <div class="w-auto">
          <app-custom-button
            type="button"
            buttonClass="bg-transparent px-[2px] py-[0px] md:px-2 underline text-[#001]"
            color="text-[#001]"
            background="bg-transparent"
            label="Generate Password"
            (click)="generatePassword()"
          ></app-custom-button>
        </div>
      </div>
      <div class="md:w-2/3 w-full flex gap-5">
        <div class="md:w-1/3 md:block hidden"></div>
        <div class="md:w-2/3">
          @for (item of passwordPattern; track $index) {
          <app-paragraph
            paragraphClass="text-[#6D6D6D] mb-1 flex items-center gap-2"
          >
            <div class="flex items-center justify-center h-4 w-4 rounded-full">
              <app-keenicon
                name="check-circle"
                [iconStyle]="item.valid ? 'color: #0F8733;' : ''"
              ></app-keenicon>
            </div>
            <span [style]="item.valid ? 'color: #0F8733;' : ''">{{
              item.message
            }}</span>
          </app-paragraph>
          }
        </div>
      </div>
    </div>
    <div class="flex">
      <div class="md:w-2/3 w-full">
        <app-custom-input
        type="checkbox"
        formControlName="agree"
        label="Confirmation to add the new company"
        labelClass="font-bold"
      ></app-custom-input>
      </div>
    </div>
    <div class="mt-16 flex justify-center">
      <app-custom-button
      type="button"
      label="Create New Company"
      [disabled]="!form.valid"
      (click)="onSubmit()"
      ></app-custom-button>
    </div>
  </form>
</section>
