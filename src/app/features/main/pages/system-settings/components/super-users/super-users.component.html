<div class="flex flex-wrap justify-between items-center mb-4">
  <div class="w-full mb-4">
    <div class="flex flex-wrap justify-between items-center">
      <div>
        <app-paragraph>
          {{ "Only email with domain" | translate }}
          <span class="text-red-500">
            {{ "( swalac )" | translate }}
          </span>
          {{ "can be approved" | translate }}
        </app-paragraph>
      </div>

      <div class="">
        <app-custom-button
          type="button"
          label="Add new Super User"
          (click)="openOffcanvas()"
        ></app-custom-button>
      </div>
    </div>
  </div>

  <div class="w-full">
    <app-table
      [loading]="loading"
      [columns]="columns"
      [data]="data"
      [templates]="customTemplates"
    ></app-table>
  </div>

  <ng-template #companyNameTemplate let-element="element">
    <span class="font-[500] text-[#071437] block mb-2">{{
      element?.name
    }}</span>
    <span class="text-[#4B5675] font-[400]">{{ element?.code }}</span>
  </ng-template>

  <ng-template #emailTemplate let-element="element">
    <div class="flex items-center gap-2">
      <div>
        <app-status-badge
          [status]="element?.emailStatus === 'verified' ? 'active' : 'inactive'"
          [label]="element?.emailStatus | titlecase"
          badgeClass="text-sm"
        ></app-status-badge>
      </div>
      <div class="font-[500] text-[#071437]">{{ element?.email }}</div>
    </div>
  </ng-template>

  <ng-template #statusTemplate let-element="element">
    <app-status-badge
      [status]="element?.accountStatus"
      [label]="element?.accountStatus | titlecase"
    ></app-status-badge>
  </ng-template>

  <ng-template #multiLoginTemplate let-element="element">
    <app-status-badge
      [status]="element?.multiLogin"
      [label]="element?.multiLogin | titlecase"
    ></app-status-badge>
  </ng-template>

  <ng-template #countryTemplate let-element="element">
    <p>{{ element?.country }}</p>
    <p class="text-[#4B5675] font-[400]">{{ element?.city }}</p>
  </ng-template>

  <ng-template #actionTemplate let-element="element">
    <div class="flex justify-center items-center gap-2">
      <div
        class="cursor-pointer hover:text-[#123d9a] hover:scale-110 ease-in-out duration-300"
      >
        <app-keenicon name="disconnect" class="text-[20px]"></app-keenicon>
      </div>
      <div
        class="cursor-pointer hover:text-[#123d9a] hover:scale-110 ease-in-out duration-300"
      >
        <app-keenicon name="notification-2" class="text-[20px]"></app-keenicon>
      </div>
    </div>
  </ng-template>

  <ng-template #moreTemplate let-element="element">
    <a
      class="text-blue-900 underline cursor-pointer border-b border-dashed border-[#123D9A]"
      [routerLink]="['/companies/company-information', element?.id]"
      >{{ element?.moreInfo }}</a
    >
  </ng-template>
</div>

@if(showOffcanvas){
<app-offcanvas #offcanvas>
  <div class="w-full sm:max-w-[90vw] md:max-w-[600px] xl:max-w-[700px]">
    <app-add-new-super-user></app-add-new-super-user>
  </div>
</app-offcanvas>
}
